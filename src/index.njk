{% extends "sitebase.njk" %}

{% block title %}Orbii, Digital Transformation, Innovation & AI{% endblock %}

{% block site_content %}
  <div class="container">
    <h2 class="section-title">Les chroniques de l'Innovation</h2>

        <!-- Existing posts grid -->
    <div class="posts-grid">
      {% for post in collections.fr_posts %}
      <a href="{{ post.url }}" class="post-card-link">
        <!-- Adding a data-language attribute to identify English posts -->
        <div class="post-card" data-post-id="{{ post.data.articleID }}" data-language="{{ post.data.language }}">
          <div class="post-header">
            {% if post.data.type %}
              <img src="/images/ic/i-{{ post.data.type }}.png" alt="{{ post.data.type }}" class="post-icon">
            {% endif %}
            
            <!-- Conditionally display ribbon for English posts -->
            {% if post.data.language == "en" %}
              <div class="ribbon">EN</div>
              <img src="/images/ic/i-langue.png" alt="English" class="language-icon">
            {% endif %}
          </div>

          <div class="post-content">
            <div class="post-title">{{ post.data.title }}</div>
            <div class="post-teaser">{{ post.data.teaser }}</div>
            <div class="post-meta">
              <span class="post-author">{{ post.data.author }}</span>
            </div>
          </div>
        </div>
      </a>
      {% endfor %}
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const bookSlider = document.getElementById('book-slider');

      // Make the slider visible 1 second after the page loads
      setTimeout(function() {
        bookSlider.classList.add('visible');
        console.log("Slider visible after 1 second!");

        // After 3 seconds, hide the slider again
        setTimeout(function() {
          bookSlider.classList.remove('visible');
          bookSlider.classList.add('hidden');
          console.log("Slider hidden after 3 seconds!");
        }, 3000);  // 3000 milliseconds = 3 seconds

      }, 1000);  // 1000 milliseconds = 1 second
    });
  </script>
{% endblock %}
